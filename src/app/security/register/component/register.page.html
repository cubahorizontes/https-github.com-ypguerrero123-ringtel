<ion-content scroll-y="true">
    <div class="p-4">
        <ion-card class="shadow-lg py-4" mode="md">
            <ion-img class="logoweb" src="../../assets/images/security/logoweb.png"></ion-img>
            <ion-card-content>
                <form [formGroup]="registerForm">

                    <div class="form-group">
                        <ion-label class="required">Nombre: </ion-label>
                        <ion-input [class.error-input]="(!formControl.name.valid && (formControl.name.dirty || formControl.name.touched)) || registerService.errorPath == 'fullName'" autocomplete="off" formControlName="name"
                                   maxlength="50" placeholder="Entre su nombre" required
                                   type="text"></ion-input>
                        <!-- Error messages -->
                        <span *ngIf="formControl.name.errors?.required && (formControl.name.dirty || formControl.name.touched)"
                              class="error">
                            Nombre obligatorio.
                        </span>
                        <span *ngIf="formControl.name.errors?.minlength && (formControl.name.dirty || formControl.name.touched)"
                              class="error">
                            Nombre de 2 caracteres mínimo.
                        </span>
                        <span *ngIf="registerService.errorMessage && registerService.errorPath == 'fullName'"
                              class="error">
                            {{registerService.errorMessage}}
                        </span>
                    </div>

                    <div class="form-group">
                        <ion-label class="required">Correo:</ion-label>
                        <ion-input
                                [class.error-input]="(!formControl.email.valid && (formControl.email.dirty || formControl.email.touched)) || registerService.errorPath == 'email'"
                                autocomplete="off" formControlName="email"
                                maxlength="50" placeholder="Entre su dirección de correo" required
                                type="email"></ion-input>
                        <!-- Error messages -->
                        <span *ngIf="formControl.email.errors?.required && (formControl.email.dirty || formControl.email.touched)"
                              class="error">
                            Correo obligatorio.
                        </span>
                        <span *ngIf="formControl.email.errors?.email && (formControl.email.dirty || formControl.email.touched)"
                              class="error">
                            Correo no válido.
                        </span>
                        <span *ngIf="registerService.errorMessage && registerService.errorPath == 'email'"
                              class="error">
                            {{registerService.errorMessage}}
                        </span>
                    </div>
                    <div class="form-group">
                        <ion-label class="required">Teléfono:</ion-label>
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <button (click)="registerService.appService.choicePhoneCode()"
                                        class="btn btn-outline-secondary"
                                        type="button">
                                    {{registerService.appService.ccodePhoneValue}}</button>
                            </div>
                            <ion-input (keyup.enter)="onSubmit()"
                                       [class.error-input]="(!formControl.phone.valid && (formControl.phone.dirty || formControl.phone.touched)) || registerService.errorPath == 'phone'"
                                       autocomplete="off"
                                       formControlName="phone" maxlength="13" placeholder="Entre su número de celular"
                                       type="tel"></ion-input>
                        </div>
                        <!-- Error messages -->
                        <span *ngIf="formControl.phone.errors?.required && (formControl.phone.dirty || formControl.phone.touched)"
                              class="error">
                            Teléfono obligatorio.
                        </span>
                        <span *ngIf="formControl.phone.errors?.pattern && (formControl.phone.dirty || formControl.phone.touched)"
                              class="error">
                            Sólo números.
                        </span>
                        <span *ngIf="registerService.errorMessage && registerService.errorPath == 'phone'"
                              class="error">
                            {{registerService.errorMessage}}
                        </span>
                    </div>
                    <div class="form-group">
                        <ion-label class="required">Contraseña:</ion-label>
                        <ion-input (keyup.enter)="onSubmit()"
                                   [class.error-input]="!formControl.password.valid && (formControl.password.dirty || formControl.password.touched)"
                                   autocomplete="off" formControlName="password"
                                   maxlength="20" placeholder="Entre su contraseña"
                                   type="password"></ion-input>
                        <!-- Error messages -->
                        <span *ngIf="formControl.password.errors?.required && (formControl.password.dirty || formControl.password.touched)"
                              class="error">
                            Contraseña obligatoria.
                        </span>
                        <span *ngIf="formControl.password.errors?.minlength && (formControl.password.dirty || formControl.password.touched)"
                              class="error">
                            Contrseña de 8 caracteres mínimo.
                        </span>
                    </div>
                    <div class="form-group mt-4 mb-4">
                        <ion-button color="primary" expand="block" (click)="onSubmit()">
                            Registrarme
                        </ion-button>
                    </div>
                    <ion-text class="ion-text-left">
                        <p (click)="registerService.appService.navigateToUrl(registerService.appService.appRoutes.APP_LOGIN)"
                           class="underline mt-2">
                            Volver
                        </p>
                    </ion-text>

                </form>
            </ion-card-content>
        </ion-card>
    </div>
</ion-content>



